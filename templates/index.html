<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="Start your development with Dorang landing page.">
    <meta name="author" content="Devcrud">
    <title>Dorang | Free Bootstrap 4.3.x template</title>
    <!-- font icons -->
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/vendors/themify-icons/css/themify-icons.css') }}" >

    <!-- Bootstrap + Dorang main styles -->
	<link rel="stylesheet" href="{{ url_for('static', filename='assets/css/dorang.css') }}" >
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/style_chat.css') }}">
    <script src="{{ url_for('static', filename='assets/js/chat.js') }}" defer></script>


    <script src="https://kit.fontawesome.com/a076d05399.js" crossorigin="anonymous"></script>
   
    <style>
        /* Style du bouton (noir avec icône de chat) */
        .theme-selector {
            position: fixed;
            bottom: 20px;
            right: 20px;
        }
    
        .spinner {
            background-color: #000; /* Noir */
            color: white;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            font-size: 24px;
        }
    
        .spinner i {
            font-size: 24px;
        }
    
        /* Style de la boîte de chat */
        .chat-box {
            width: 500px; /* Augmenter la largeur */
            height: 500px; /* Augmenter la hauteur */
            position: absolute;
            bottom: 60px;
            right: 0;
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
        }
        .chat-header {
            background-color: #000;
            color: white;
            padding: 10px;
            text-align: center;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
        }
    
        .chat-header button {
            background: none;
            border: none;
            color: white;
            font-size: 18px;
            cursor: pointer;
        }
    
       /* Augmenter la taille de la police */
        .chat-body {
            padding: 15px;
            height: 430px; /* Ajustement pour s'adapter à la nouvelle taille */
            overflow-y: auto;
            font-size: 16px; /* Augmenter la taille de la police */
            border-bottom: 1px solid #ddd;
        }
    
        .chat-footer {
            display: flex;
            padding: 10px;
            border-top: 1px solid #ddd;
        }
    
        /* Augmenter la taille de la police des entrées utilisateur */
        .chat-footer input {
            flex: 1;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 5px;
            outline: none;
            font-size: 16px; /* Augmenter la taille de la police */
        }

        /* Augmenter la taille du bouton d'envoi */
        .chat-footer button {
            background-color: #000;
            color: white;
            border: none;
            padding: 10px 15px;
            margin-left: 5px;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px; /* Augmenter la taille de la police */
        }
        /* Augmenter la taille de la boîte de chat */



    
        .gif-bottom-left {
            position: fixed;
            bottom: 20px;
            left: 20px;
            width: 700px; /* Ajuste la taille selon tes besoins */
            height: auto;
            z-index: 1000; /* S'assurer que l'image est visible au-dessus des autres éléments */
        }
 

    </style>
  
    <script>
        function toggleChat() {
            var chatBox = document.getElementById("chatBox");
            if (chatBox.style.display === "none" || chatBox.style.display === "") {
                chatBox.style.display = "flex";
            } else {
                chatBox.style.display = "none";
            }
        }
    </script>
    
    <script>
        document.getElementById('reconstructForm').addEventListener('submit', async function (e) {
            e.preventDefault(); // Empêche le rechargement de la page

            // Récupérer l'image et la description
            const formData = new FormData();
            formData.append('file', document.getElementById('imageInput').files[0]);
            formData.append('description', document.getElementById('descriptionInput').value);

            try {
                // Envoyer les données au serveur
                const response = await fetch('/reconstruct_image', {
                    method: 'POST',
                    body: formData,
                });

                // Vérifier si la requête a réussi
                if (response.ok) {
                    // Convertir la réponse en fichier binaire
                    const blob = await response.blob();

                    // Créer une URL pour l'image générée
                    const imageUrl = URL.createObjectURL(blob);

                    // Afficher l'image reconstruite
                    document.getElementById('reconstructedImage').src = imageUrl;
                    document.getElementById('reconstructedImageContainer').style.display = 'block';
                } else {
                    alert("Erreur lors de la reconstruction de l'image.");
                }
            } catch (error) {
                console.error("Erreur :", error);
            }
        });
    </script>
    
    <script>
        function maFonction() {
            const introGif = document.getElementById('introGif');
            const introAudio = document.getElementById('introAudio');
    
            // Afficher le GIF
            introGif.style.display = 'block';
    
            // Lire l'audio
            
            introAudio.play();
    
            // Cacher le GIF lorsque l'audio se termine
            introAudio.addEventListener('ended', function () {
                introGif.style.display = 'none';
            });
    
            // Gérer les erreurs de lecture audio
            introAudio.addEventListener('error', function () {
                console.error("Erreur lors de la lecture de l'audio.");
                introGif.style.display = 'none'; // Cacher le GIF en cas d'erreur
            });
        }
    </script>
    <script>
        function maFonction_sidi_okba() {
            const introGif = document.getElementById('introGif');
            const introAudio = document.getElementById('introAudio_sidi_okba');
    
            // Afficher le GIF
            introGif.style.display = 'block';
    
            // Lire l'audio
            
            introAudio.play();
    
            // Cacher le GIF lorsque l'audio se termine
            introAudio.addEventListener('ended', function () {
                introGif.style.display = 'none';
            });
    
            // Gérer les erreurs de lecture audio
            introAudio.addEventListener('error', function () {
                console.error("Erreur lors de la lecture de l'audio.");
                introGif.style.display = 'none'; // Cacher le GIF en cas d'erreur
            });
        }
    </script>
</head>
<body data-spy="scroll" data-target=".navbar" data-offset="40" id="home" class="dark-theme">
    
    <!-- page navbar -->
    <nav class="page-navbar" data-spy="affix" data-offset-top="10">
        <ul class="nav-navbar container">
            <li class="nav-item"><a href="#" class="nav-link">Accueil</a></li>
            <li class="nav-item"><a href="#" onclick="maFonction(); return false;" class="nav-link">Aide</a></li>
            <li class="nav-item"><a href="#" class="nav-link"><img  src="{{ url_for('static', filename='assets/imgs/placeholder.svg') }}" ></a></li>
            <li class="nav-item"><a href="#" class="nav-link">Sites</a></li>
            <li class="nav-item search">
                <a href="/quiz" class="nav-link "> Quiz</a>
            </li>
        </ul>
    </nav><!-- end of page navbar -->

     <div class="theme-selector">
        <a href="javascript:void(0)" class="spinner" onclick="toggleChat()">
            <i class="fas fa-comments"></i>
        </a>
        <div class="chat-box" id="chatBox">
            <div class="chat-header">
                <span>Chat</span>
                <button onclick="toggleChat()">&times;</button>
            </div>
            <div class="chat-body"></div>
            <div class="chat-footer">
                <input type="text" id="userMessage" placeholder="Écrire un message...">
                <button onclick="sendMessage()">Envoyer</button>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/js/all.min.js"></script>
    
    

    <!-- page header -->
    <header class="header">
        <div class="overlay"></div>
        <div class="header-content">
            <h1 class="header-title">Bienvenue à Kasserine...</h1>
            <p class="header-subtitle">Plongez dans l'histoire et les sites archélogiques de Sbiba et Sbeitla, trésors oubliés de la Tunisie!</p>

            <button class="btn btn-theme-color modal-toggle"><i class="ti-control-play text-danger"></i> Découvrir</button>

        </div>
    </header><!-- end of page header -->
    
    <!-- modal -->
    <div class="modalBox">
        <div class="modalBox-body">
            <iframe width="100%" height="450px" class="border-0" 
            src="{{ url_for('static', filename='assets/videos/story.mp4') }}">
            </iframe>
        </div>          
    </div><!-- end of modal -->
    <!-- Ajoutez cette balise audio dans votre HTML -->
    <audio id="introAudio" src="{{ url_for('static', filename='assets/audio/response.mp3') }}"></audio>

    <!-- Le GIF est déjà présent dans votre code -->
    <img id="introGif" src="{{ url_for('static', filename='assets/imgs/animation.gif') }}" alt="GIF Animé" class="gif-bottom-left" style="display: none;">
        <!-- page container -->
    <div class="container page-container">
        <div class="col-md-10 col-lg-8 m-auto">
            <h6 class="title mb-4">Cartographie</h6>
            <p class="mb-5">Au cœur de la Tunisie, nichée entre les montagnes et les plaines verdoyantes, Sbiba dévoile les vestiges d’une 
                civilisation fascinante. Chaque pierre, chaque ruine raconte une histoire millénaire, un récit de grandeur et de résilience. 
                Ici, les temples romains se dressent encore fièrement, témoins silencieux d’un passé glorieux où rites et prières résonnaient sous un ciel d’azur..</p>
        </div>  

        <!-- row -->
        <div class="">
            
                <a href="javascript:void(0)" class="overlay-img">
                    <img   src="{{ url_for('static', filename='assets/imgs/carte.png') }}"  >  
                    <div class="overlay"></div> 
                    <div class="des">
                        <h1 class="title">Site archéologique</h1>
                     
                        <p>Au cœur de la Tunisie, nichée entre les montagnes et les plaines verdoyantes, Sbiba dévoile les vestiges d’une 
                            civilisation fascinante..</p>
                    </div>          
                </a>
          
            
            
               
        </div><!-- end of row -->

        <a href="#">Découvrir <i class="ti-angle-double-right angle"></i></a>


        <div class="col-md-10 col-lg-8 m-auto">
            <h6 class="title mb-4 mt-5 pt-5">Les Sites et Artefacts</h6>
            <p class="mb-5">Les sites archéologiques de Sbiba en Tunisie révèlent un riche patrimoine historique, avec des vestiges punico-romains, des temples, 
                des mosaïques et des infrastructures antiques. Un voyage fascinant à travers l'histoire de la région, à ne pas manquer pour les passionnés d'archéologie.</p>
        </div>

        <!-- row -->
        <div class="row mb-5">
            <div class="col-md-6">
                <a href="javascript:void(0)" onclick="maFonction_sidi_okba(); return false;" class="card">
                    <img src="{{ url_for('static', filename='assets/imgs/sidi_okba.jpg') }}"  class="card-img" >
                    <div class="card-body">
                        <h3 class="card-title">Jammaa Sidi Okba</h3>
                        <h6 class="card-subtitle">Maintenant</h6>
    
                    </div>                  
                </a>
            </div>  
            <audio id="introAudio_sidi_okba" src="{{ url_for('static', filename='assets/audio/sidi_okba.mp3') }}"></audio>
            <div class="col-md-6">
                <a href="javascript:void(0)" class="card">
                    <img src="{{ url_for('static', filename='assets/imgs/sidi_okba_ai.jpg') }}"  class="card-img" >
                    <div class="card-body">
                        <h3 class="card-title">Jammaa Sidi Okba</h3>
                        <h6 class="card-subtitle">Avant</h6>
    
                    </div>                  
                </a>
            </div>  
            <div class="col-md-6">
                <a href="javascript:void(0)" class="card">
                    <img src="{{ url_for('static', filename='assets/imgs/mortier.png') }}"  class="card-img">
                    <img src="{{ url_for('static', filename='assets/imgs/mortier.png') }}"  class="card-img" >
                    <div class="card-body">
                        <h3 class="card-title">Mortier en Calcaire Blanc</h3>
                        <h6 class="card-subtitle">Maintenant</h6>
    
                    </div>                  
                </a>
            </div>  
            <div class="col-md-6">
                <a href="javascript:void(0)" class="card">
                    <img src="{{ url_for('static', filename='assets/imgs/mortier_ia.jpg') }}"  class="card-img" >
                    <div class="card-body">
                        <h3 class="card-title">Mortier en Calcaire Blanc</h3>
                        <h6 class="card-subtitle">Avant</h6>
    
                    </div>                  
                </a>
            </div>  
        </div><!-- end of row -->

        <a href="#">Tous les Sites.. <i class="ti-angle-double-right angle"></i></a>

    </div> <!-- end of page container -->
    <!-- Ajoutez ceci dans la section du chat ou ailleurs dans votre interface -->
    
    <!--footer & pre footer -->
    <div class="contact-section">
        <div class="overlay"></div>
        <!-- container -->
        <div class="container">
           

            <!-- footer -->
            <footer class="footer">
                <p class="infos">&copy; <script>document.write(new Date().getFullYear())</script>, <a href="">Prosperty Pionners</a></p>       
                <span>|</span>  
                <div class="links">
                    <a href="#">Accueil</a>
                    <a href="#">Explorer</a>
                    <a href="#">Sites</a>
                </div>
            </footer><!-- end of footer -->

        </div><!-- end of container -->
    </div><!-- end of pre footer -->

    <!-- core  -->
    <script src="{{ url_for('static', filename='assets/vendors/jquery/jquery-3.4.1.js') }}"   ></script>
    <script  src="{{ url_for('static', filename='assets/vendors/bootstrap/bootstrap.bundle.js') }}" ></script>

    <!-- bootstrap affix -->
    <script  src="{{ url_for('static', filename='assets/vendors/bootstrap/bootstrap.affix.js') }}" ></script>

    <!-- Dorang js -->
    <script  src="{{ url_for('static', filename='assets/js/dorang.js') }}"  ></script>

</body>
</html>
